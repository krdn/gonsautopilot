# GonsAutoPilot 품질 임계값 설정
# 각 테스트/검증 단계의 통과 기준을 정의

test:
  unit:
    coverage_min: 80          # 코드 커버리지 최소 %
    pass_rate: 100            # 테스트 통과율 최소 %

  e2e:
    pass_rate: 100            # E2E 시나리오 통과율

  performance:
    lighthouse_score: 70      # Lighthouse 종합 점수
    lcp_max: 2500             # Largest Contentful Paint (ms)
    fid_max: 100              # First Input Delay (ms)
    cls_max: 0.1              # Cumulative Layout Shift

  security:
    block_severity: "high"    # high 이상 시 파이프라인 차단
    warn_severity: "moderate" # moderate 이상 시 경고

deploy:
  health_check:
    response_time_max: 5000   # 헬스체크 응답 최대 시간 (ms)
    status_code: 200          # 기대 상태 코드

verify:
  smoke_test:
    response_time_max: 3000   # 스모크 테스트 응답 최대 시간 (ms)
  watchdog:
    duration: 30              # 모니터링 시간 (초)
    error_rate_max: 0.01      # 최대 에러율 (1%)
    latency_spike_ratio: 2.0  # 평소 대비 응답시간 비율 (200% 초과 시 롤백)
